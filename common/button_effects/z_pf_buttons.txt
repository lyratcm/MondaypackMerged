###_z pf 按钮	###########################################################################################




#_guide
z_mm_pf_btn_misc_guide = {
	potential = { always = yes }
	allow = { always = yes }
	
	effect = {
		custom_tooltip = z_mm_tips_pf_btn_misc_guide
	}
}








#_[建筑损毁trgr]	产业革命
z_pf_btn_trgr_building_on = {#_default
	potential = { NOT = { event_target:z_pf_tgt_plnt_dec = { has_planet_flag = z_pf_flg_plnt_building_ignore } } }
	allow = { hidden_trigger = { NOT = { has_global_flag = z_pr_installed } } }
	
	effect = {
		custom_tooltip = z_pf_tips_building_trgr_on
		custom_tooltip = z_pf_tips_building_trgr
		hidden_effect = { event_target:z_pf_tgt_plnt_dec = { set_planet_flag = z_pf_flg_plnt_building_ignore } }
	}
}
z_pf_btn_trgr_building_off = {
	potential = { event_target:z_pf_tgt_plnt_dec = { has_planet_flag = z_pf_flg_plnt_building_ignore } }
	allow = { hidden_trigger = { NOT = { has_global_flag = z_pr_installed } } }
	
	effect = {
		custom_tooltip = z_pf_tips_building_trgr_off
		custom_tooltip = z_pf_tips_building_trgr
		hidden_effect = { event_target:z_pf_tgt_plnt_dec = { remove_planet_flag = z_pf_flg_plnt_building_ignore } }
	}
}

#_隐藏/显示
z_pf_btn_dec_off = {
	potential = { has_country_flag = z_pf_flg_cntr_hide_dec }
	allow = { always = yes }
	
	effect = {
		custom_tooltip = z_pf_evt_hide_dec
		custom_tooltip = z_pf_tips_hide_dec
		hidden_effect = { remove_country_flag = z_pf_flg_cntr_hide_dec }
	}
}
z_pf_btn_dec_on = {
	potential = { NOT = { has_country_flag = z_pf_flg_cntr_hide_dec } }
	allow = { always = yes }
	
	effect = {
		custom_tooltip = z_pf_evt_show_dec
		custom_tooltip = z_pf_tips_show_dec
		hidden_effect = { set_country_flag = z_pf_flg_cntr_hide_dec }
	}
}

#_优先
z_pf_btn_mig_default = {
	potential = {
		event_target:z_pf_tgt_plnt_dec = {
			NOR = {
				has_planet_flag = z_pf_flg_plnt_migration_prio
				has_planet_flag = z_pf_flg_plnt_immigration_prio
			}
		}
	}
	effect = {
		custom_tooltip = z_pf_dec_mig_default
		custom_tooltip = z_pf_tips_dec_mig_default
		hidden_effect = {
			event_target:z_pf_tgt_plnt_dec = { set_planet_flag = z_pf_flg_plnt_migration_prio }
		}
	}
}
z_pf_btn_mig_out_prio = {
	potential = {
		event_target:z_pf_tgt_plnt_dec = { has_planet_flag = z_pf_flg_plnt_migration_prio }
	}
	effect = {
		custom_tooltip = z_pf_dec_mig_out_prio
		custom_tooltip = z_pf_tips_dec_mig_out_prio
		hidden_effect = {
			event_target:z_pf_tgt_plnt_dec = {
				remove_planet_flag = z_pf_flg_plnt_migration_prio
				set_planet_flag = z_pf_flg_plnt_immigration_prio
			}
		}
	}
}
z_pf_btn_mig_in_prio = {
	potential = {
		event_target:z_pf_tgt_plnt_dec = { has_planet_flag = z_pf_flg_plnt_immigration_prio }
	}
	effect = {
		custom_tooltip = z_pf_dec_mig_in_prio
		custom_tooltip = z_pf_tips_dec_mig_in_prio
		hidden_effect = {
			event_target:z_pf_tgt_plnt_dec = { remove_planet_flag = z_pf_flg_plnt_immigration_prio }
		}
	}
}

#_输出
z_pf_btn_migration_default = {
	potential = {
		event_target:z_pf_tgt_plnt_dec = {
			NOR = {
				has_planet_flag = z_pf_flg_plnt_migration_forced
				has_planet_flag = z_pf_flg_plnt_migration_ignore
			}
		}
	}
	effect = {
		custom_tooltip = z_pf_dec_migration
		hidden_effect = {
			event_target:z_pf_tgt_plnt_dec = { set_planet_flag = z_pf_flg_plnt_migration_forced }
		}
	}
}
z_pf_btn_migration_forced = {
	potential = {
		event_target:z_pf_tgt_plnt_dec = { has_planet_flag = z_pf_flg_plnt_migration_forced }
	}
	effect = {
		custom_tooltip = z_pf_dec_migration_forced
		custom_tooltip = z_pf_tips_dec_migration_forced
		hidden_effect = {
			event_target:z_pf_tgt_plnt_dec = {
				remove_planet_flag = z_pf_flg_plnt_migration_forced
				set_planet_flag = z_pf_flg_plnt_migration_ignore
			}
		}
	}
}
z_pf_btn_migration_ignore = {
	potential = {
		event_target:z_pf_tgt_plnt_dec = { has_planet_flag = z_pf_flg_plnt_migration_ignore }
	}
	effect = {
		custom_tooltip = z_pf_dec_migration_ignore
		custom_tooltip = z_pf_tips_dec_migration_ignore
		hidden_effect = {
			event_target:z_pf_tgt_plnt_dec = { remove_planet_flag = z_pf_flg_plnt_migration_ignore }
		}
	}
}

#_输入
z_pf_btn_immigration_default = {
	potential = {
		event_target:z_pf_tgt_plnt_dec = {
			NOR = {
				has_planet_flag = z_pf_flg_plnt_immigration_forced
				has_planet_flag = z_pf_flg_plnt_immigration_ignore
			}
		}
	}
	effect = {
		custom_tooltip = z_pf_dec_immigration
		hidden_effect = {
			event_target:z_pf_tgt_plnt_dec = { set_planet_flag = z_pf_flg_plnt_immigration_forced }
		}
	}
}
z_pf_btn_immigration_forced = {
	potential = {
		event_target:z_pf_tgt_plnt_dec = { has_planet_flag = z_pf_flg_plnt_immigration_forced }
	}
	effect = {
		custom_tooltip = z_pf_dec_immigration_forced
		custom_tooltip = z_pf_tips_dec_immigration_forced
		hidden_effect = {
			event_target:z_pf_tgt_plnt_dec = {
				remove_planet_flag = z_pf_flg_plnt_immigration_forced
				set_planet_flag = z_pf_flg_plnt_immigration_ignore
			}
		}
	}
}
z_pf_btn_immigration_ignore = {
	potential = {
		event_target:z_pf_tgt_plnt_dec = { has_planet_flag = z_pf_flg_plnt_immigration_ignore }
	}
	effect = {
		custom_tooltip = z_pf_dec_immigration_ignore
		custom_tooltip = z_pf_tips_dec_immigration_ignore
		hidden_effect = {
			event_target:z_pf_tgt_plnt_dec = { remove_planet_flag = z_pf_flg_plnt_immigration_ignore }
		}
	}
}

#_默认-全局
z_mm_pf_btn_default = {
	potential = { always = yes }
	allow = { always = yes }
	
	effect = {
		hidden_effect = {
			if = {#_[产业革命]
				limit = { owner = { has_country_flag = z_pr_flg_cntr_1 } }
				owner = {
					every_owned_planet = {
						limit = { is_colony = yes }
						remove_planet_flag = z_pf_flg_plnt_migration_5
						set_planet_flag = z_pf_flg_plnt_migration_10
						remove_planet_flag = z_pf_flg_plnt_migration_25
						remove_planet_flag = z_pf_flg_plnt_migration_50
						remove_planet_flag = z_pf_flg_plnt_migration_100
						remove_planet_flag = z_pf_flg_plnt_migration_150
						remove_planet_flag = z_pf_flg_plnt_migration_uep_5
						remove_planet_flag = z_pf_flg_plnt_migration_uep_10
						remove_planet_flag = z_pf_flg_plnt_migration_uep_25
					}
				}
			}
			else = {#_[产业革命]non
				owner = {
					every_owned_planet = {
						limit = { is_colony = yes }
						remove_planet_flag = z_pf_flg_plnt_migration_5
						remove_planet_flag = z_pf_flg_plnt_migration_10
						remove_planet_flag = z_pf_flg_plnt_migration_25
						remove_planet_flag = z_pf_flg_plnt_migration_50
						remove_planet_flag = z_pf_flg_plnt_migration_100
						remove_planet_flag = z_pf_flg_plnt_migration_150
						remove_planet_flag = z_pf_flg_plnt_migration_uep_5
						remove_planet_flag = z_pf_flg_plnt_migration_uep_10
						remove_planet_flag = z_pf_flg_plnt_migration_uep_25
					}
				}
			}
		}
		custom_tooltip = z_pf_tips_btn_default
	}
}

#_[预留人口]	产业革命
z_mm_pf_btn_pop_0 = {
	potential = { always = yes }
	allow = {
		custom_tooltip = {
			hidden_trigger = {
				OR = {
					has_country_flag = z_pr_flg_cntr_1
					event_target:z_pf_tgt_plnt_dec = {
						OR = {
							has_planet_flag = z_pf_flg_plnt_migration_5
							has_planet_flag = z_pf_flg_plnt_migration_10
							has_planet_flag = z_pf_flg_plnt_migration_25
							has_planet_flag = z_pf_flg_plnt_migration_50
							has_planet_flag = z_pf_flg_plnt_migration_100
							has_planet_flag = z_pf_flg_plnt_migration_150
						}
					}
				}
			}
            fail_text = z_pf_tips_btn_pop
        }
		custom_tooltip = {#_[产业革命]non
			hidden_trigger = { NOT = { has_country_flag = z_pr_flg_cntr_1 } }
            fail_text = z_pf_tips_pr
        }
	}
	
	effect = {
		hidden_effect = {
			event_target:z_pf_tgt_plnt_dec = {
				remove_planet_flag = z_pf_flg_plnt_migration_5
				remove_planet_flag = z_pf_flg_plnt_migration_10
				remove_planet_flag = z_pf_flg_plnt_migration_25
				remove_planet_flag = z_pf_flg_plnt_migration_50
				remove_planet_flag = z_pf_flg_plnt_migration_100
				remove_planet_flag = z_pf_flg_plnt_migration_150
			}
		}
		custom_tooltip = z_pf_tips_btn_pop
	}
}
z_mm_pf_btn_pop_5 = {
	potential = { always = yes }
	allow = {
		custom_tooltip = {
			hidden_trigger = {
				OR = {
					has_country_flag = z_pr_flg_cntr_1
					NOT = { event_target:z_pf_tgt_plnt_dec = { has_planet_flag = z_pf_flg_plnt_migration_5 } }
				}
			}
            fail_text = z_pf_tips_btn_pop
        }
		custom_tooltip = {#_[产业革命]non
			hidden_trigger = { NOT = { has_country_flag = z_pr_flg_cntr_1 } }
            fail_text = z_pf_tips_pr
        }
	}
	
	effect = {
		custom_tooltip = z_pf_tips_btn_pop
		hidden_effect = {
			event_target:z_pf_tgt_plnt_dec = {
				set_planet_flag = z_pf_flg_plnt_migration_5
				remove_planet_flag = z_pf_flg_plnt_migration_10
				remove_planet_flag = z_pf_flg_plnt_migration_25
				remove_planet_flag = z_pf_flg_plnt_migration_50
				remove_planet_flag = z_pf_flg_plnt_migration_100
				remove_planet_flag = z_pf_flg_plnt_migration_150
			}
		}
	}
}
z_mm_pf_btn_pop_10 = {
	potential = { always = yes }
	allow = {
		custom_tooltip = {
			hidden_trigger = {
				NOT = { event_target:z_pf_tgt_plnt_dec = { has_planet_flag = z_pf_flg_plnt_migration_10 } }
			}
            fail_text = z_pf_tips_btn_pop
        }
	}
	
	effect = {
		custom_tooltip = z_pf_tips_btn_pop
		hidden_effect = {
			event_target:z_pf_tgt_plnt_dec = {
				remove_planet_flag = z_pf_flg_plnt_migration_5
				set_planet_flag = z_pf_flg_plnt_migration_10
				remove_planet_flag = z_pf_flg_plnt_migration_25
				remove_planet_flag = z_pf_flg_plnt_migration_50
				remove_planet_flag = z_pf_flg_plnt_migration_100
				remove_planet_flag = z_pf_flg_plnt_migration_150
			}
		}
	}
}
z_mm_pf_btn_pop_25 = {
	potential = { always = yes }
	allow = {
		custom_tooltip = {
			hidden_trigger = {
				NOT = { event_target:z_pf_tgt_plnt_dec = { has_planet_flag = z_pf_flg_plnt_migration_25 } }
			}
            fail_text = z_pf_tips_btn_pop
        }
	}
	
	effect = {
		custom_tooltip = z_pf_tips_btn_pop
		hidden_effect = {
			event_target:z_pf_tgt_plnt_dec = {
				remove_planet_flag = z_pf_flg_plnt_migration_5
				remove_planet_flag = z_pf_flg_plnt_migration_10
				set_planet_flag = z_pf_flg_plnt_migration_25
				remove_planet_flag = z_pf_flg_plnt_migration_50
				remove_planet_flag = z_pf_flg_plnt_migration_100
				remove_planet_flag = z_pf_flg_plnt_migration_150
			}
		}
	}
}
z_mm_pf_btn_pop_50 = {
	potential = { always = yes }
	allow = {
		custom_tooltip = {
			hidden_trigger = {
				NOT = { event_target:z_pf_tgt_plnt_dec = { has_planet_flag = z_pf_flg_plnt_migration_50 } }
			}
            fail_text = z_pf_tips_btn_pop
        }
	}
	
	effect = {
		custom_tooltip = z_pf_tips_btn_pop
		hidden_effect = {
			event_target:z_pf_tgt_plnt_dec = {
				remove_planet_flag = z_pf_flg_plnt_migration_5
				remove_planet_flag = z_pf_flg_plnt_migration_10
				remove_planet_flag = z_pf_flg_plnt_migration_25
				set_planet_flag = z_pf_flg_plnt_migration_50
				remove_planet_flag = z_pf_flg_plnt_migration_100
				remove_planet_flag = z_pf_flg_plnt_migration_150
			}
		}
	}
}
z_mm_pf_btn_pop_100 = {
	potential = { always = yes }
	allow = {
		custom_tooltip = {
			hidden_trigger = {
				NOT = { event_target:z_pf_tgt_plnt_dec = { has_planet_flag = z_pf_flg_plnt_migration_100 } }
			}
            fail_text = z_pf_tips_btn_pop
        }
	}
	
	effect = {
		custom_tooltip = z_pf_tips_btn_pop
		hidden_effect = {
			event_target:z_pf_tgt_plnt_dec = {
				remove_planet_flag = z_pf_flg_plnt_migration_5
				remove_planet_flag = z_pf_flg_plnt_migration_10
				remove_planet_flag = z_pf_flg_plnt_migration_25
				remove_planet_flag = z_pf_flg_plnt_migration_50
				set_planet_flag = z_pf_flg_plnt_migration_100
				remove_planet_flag = z_pf_flg_plnt_migration_150
			}
		}
	}
}
z_mm_pf_btn_pop_150 = {
	potential = { always = yes }
	allow = {
		custom_tooltip = {
			hidden_trigger = {
				NOT = { event_target:z_pf_tgt_plnt_dec = { has_planet_flag = z_pf_flg_plnt_migration_150 } }
			}
            fail_text = z_pf_tips_btn_pop
        }
	}
	
	effect = {
		custom_tooltip = z_pf_tips_btn_pop
		hidden_effect = {
			event_target:z_pf_tgt_plnt_dec = {
				remove_planet_flag = z_pf_flg_plnt_migration_5
				remove_planet_flag = z_pf_flg_plnt_migration_10
				remove_planet_flag = z_pf_flg_plnt_migration_25
				remove_planet_flag = z_pf_flg_plnt_migration_50
				remove_planet_flag = z_pf_flg_plnt_migration_100
				set_planet_flag = z_pf_flg_plnt_migration_150
			}
		}
	}
}

#_[预留无业人口]	产业革命
z_mm_pf_btn_uep_0 = {
	potential = { always = yes }
	allow = {
		custom_tooltip = {
			hidden_trigger = {
				event_target:z_pf_tgt_plnt_dec = {
					OR = {
						has_planet_flag = z_pf_flg_plnt_migration_uep_5
						has_planet_flag = z_pf_flg_plnt_migration_uep_10
						has_planet_flag = z_pf_flg_plnt_migration_uep_25
					}
				}
			}
            fail_text = z_pf_tips_btn_uep
        }
		custom_tooltip = {#_[产业革命]non
			hidden_trigger = { NOT = { has_country_flag = z_pr_flg_cntr_1 } }
            fail_text = z_pf_tips_pr
        }
	}
	
	effect = {
		hidden_effect = {
			event_target:z_pf_tgt_plnt_dec = {
				remove_planet_flag = z_pf_flg_plnt_migration_uep_5
				remove_planet_flag = z_pf_flg_plnt_migration_uep_10
				remove_planet_flag = z_pf_flg_plnt_migration_uep_25
			}
		}
		custom_tooltip = z_pf_tips_btn_uep
	}
}
z_mm_pf_btn_uep_5 = {
	potential = { always = yes }
	allow = {
		custom_tooltip = {
			hidden_trigger = {
				NOT = {
					event_target:z_pf_tgt_plnt_dec = { has_planet_flag = z_pf_flg_plnt_migration_uep_5 }
				}
			}
            fail_text = z_pf_tips_btn_uep
        }
		custom_tooltip = {#_[产业革命]non
			hidden_trigger = { NOT = { has_country_flag = z_pr_flg_cntr_1 } }
            fail_text = z_pf_tips_pr
        }
	}
	
	effect = {
		hidden_effect = {
			event_target:z_pf_tgt_plnt_dec = {
				set_planet_flag = z_pf_flg_plnt_migration_uep_5
				remove_planet_flag = z_pf_flg_plnt_migration_uep_10
				remove_planet_flag = z_pf_flg_plnt_migration_uep_25
			}
		}
		custom_tooltip = z_pf_tips_btn_uep
	}
}
z_mm_pf_btn_uep_10 = {
	potential = { always = yes }
	allow = {
		custom_tooltip = {
			hidden_trigger = {
				NOT = {
					event_target:z_pf_tgt_plnt_dec = { has_planet_flag = z_pf_flg_plnt_migration_uep_10 }
				}
			}
            fail_text = z_pf_tips_btn_uep
        }
		custom_tooltip = {#_[产业革命]non
			hidden_trigger = { NOT = { has_country_flag = z_pr_flg_cntr_1 } }
            fail_text = z_pf_tips_pr
        }
	}
	
	effect = {
		hidden_effect = {
			event_target:z_pf_tgt_plnt_dec = {
				remove_planet_flag = z_pf_flg_plnt_migration_uep_5
				set_planet_flag = z_pf_flg_plnt_migration_uep_10
				remove_planet_flag = z_pf_flg_plnt_migration_uep_25
			}
		}
		custom_tooltip = z_pf_tips_btn_uep
	}
}
z_mm_pf_btn_uep_25 = {
	potential = { always = yes }
	allow = {
		custom_tooltip = {
			hidden_trigger = {
				NOT = {
					event_target:z_pf_tgt_plnt_dec = { has_planet_flag = z_pf_flg_plnt_migration_uep_25 }
				}
			}
            fail_text = z_pf_tips_btn_uep
        }
		custom_tooltip = {#_[产业革命]non
			hidden_trigger = { NOT = { has_country_flag = z_pr_flg_cntr_1 } }
            fail_text = z_pf_tips_pr
        }
	}
	
	effect = {
		hidden_effect = {
			event_target:z_pf_tgt_plnt_dec = {
				remove_planet_flag = z_pf_flg_plnt_migration_uep_5
				remove_planet_flag = z_pf_flg_plnt_migration_uep_10
				set_planet_flag = z_pf_flg_plnt_migration_uep_25
			}
		}
		custom_tooltip = z_pf_tips_btn_uep
	}
}

