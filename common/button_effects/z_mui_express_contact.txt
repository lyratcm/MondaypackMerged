
z_mui_btn_ec_folded = {
	potential = {
		is_scope_type = country
		z_mui_trgr_cntr_ec_hide = no
		has_country_flag = z_mui_flg_folded
	}
	allow = { is_ai = no }
	effect = {
		custom_tooltip = z_mui_btn_ec_folded
		hidden_effect = { remove_country_flag = z_mui_flg_folded }
	}
}
z_mui_btn_ec_unfolded = {
	potential = {
		is_scope_type = country
		z_mui_trgr_cntr_ec_hide = no
		NOT = { has_country_flag = z_mui_flg_folded }
	}
	allow = { is_ai = no }
	effect = {
		custom_tooltip = z_mui_btn_ec_unfolded
		hidden_effect = { set_country_flag = z_mui_flg_folded }
	}
}

z_mui_btn_ec_marauder_frame = {
	potential = {
		is_scope_type = country
		z_mui_trgr_cntr_ec_hide = no
		NOT = { has_country_flag = z_mui_flg_folded }
		any_relation = {
			is_country_type = dormant_marauders
            OR = {
                has_country_flag = marauder_1
                has_country_flag = marauder_2
                has_country_flag = marauder_3
            }
			has_communications = from
		}
	}
	allow = { is_ai = no }
	effect = {}
}

z_mui_btn_ec_marauder_switch = {
	potential = {
		is_scope_type = country
		z_mui_trgr_cntr_ec_hide = no
		NOT = { has_country_flag = z_mui_flg_folded }
		any_relation = {
			is_country_type = dormant_marauders
            OR = {
                has_country_flag = marauder_1
                has_country_flag = marauder_2
                has_country_flag = marauder_3
            }
			has_communications = from
		}
	}
	allow = { is_ai = no }
	effect = {
		custom_tooltip = z_mui_btn_ec_switch
		hidden_effect = {
			if = {
				limit = { check_variable = { which = z_mui_var_ec_marauder value = 0 } }
				set_variable = { which = z_mui_var_ec_marauder value = 1 }
			}
			while = {
				count = 3
				limit = { NOT = { has_country_flag = z_mui_flg_cntr_ec_switched } }
				if = {
					limit = { check_variable = { which = z_mui_var_ec_marauder value < 3 } }
					change_variable = { which = z_mui_var_ec_marauder value = 1 }
				}
				else_if = {
					limit = { check_variable = { which = z_mui_var_ec_marauder value = 3 } }
					set_variable = { which = z_mui_var_ec_marauder value = 1 }
				}
				if = {
					limit = {
						check_variable = { which = z_mui_var_ec_marauder value = 1 }
						any_relation = {
							is_country_type = dormant_marauders
							has_country_flag = marauder_1
							has_communications = from
						}
					}
					set_country_flag = z_mui_flg_cntr_ec_switched
				}
				else_if = {
					limit = {
						check_variable = { which = z_mui_var_ec_marauder value = 2 }
						any_relation = {
							is_country_type = dormant_marauders
							has_country_flag = marauder_2
							has_communications = from
						}
					}
					set_country_flag = z_mui_flg_cntr_ec_switched
				}
				else_if = {
					limit = {
						check_variable = { which = z_mui_var_ec_marauder value = 3 }
						any_relation = {
							is_country_type = dormant_marauders
							has_country_flag = marauder_3
							has_communications = from
						}
					}
					set_country_flag = z_mui_flg_cntr_ec_switched
				}
			}
			remove_country_flag = z_mui_flg_cntr_ec_switched
		}
	}
}

z_mui_btn_ec_marauder_1 = {
	potential = {
		is_scope_type = country
		z_mui_trgr_cntr_ec_hide = no
		NOT = { has_country_flag = z_mui_flg_folded }
		check_variable = { which = z_mui_var_ec_marauder value = 1 }
		any_relation = {
			is_country_type = dormant_marauders
			has_country_flag = marauder_1
			has_communications = from
		}
	}
	allow = {
		is_ai = no
		custom_tooltip = {
			fail_text = z_mui_tips_ec_disabled_engaged
			hidden_trigger = { NOT = { has_country_flag = marauder_diplomacy_engaged } }
		}
	}
	effect = {
		custom_tooltip = z_mui_btn_ec_marauder
		hidden_effect = {
			random_relation = {
				limit = {
					is_country_type = dormant_marauders
					has_communications = from
					has_country_flag = marauder_1
				}
				country_event = { id = z_mui_ec.20 }
			}
		}
	}
}

z_mui_btn_ec_marauder_2 = {
	potential = {
		is_scope_type = country
		z_mui_trgr_cntr_ec_hide = no
		NOT = { has_country_flag = z_mui_flg_folded }
		check_variable = { which = z_mui_var_ec_marauder value = 2 }
		any_relation = {
			is_country_type = dormant_marauders
			has_country_flag = marauder_2
			has_communications = from
		}
	}
	allow = {
		is_ai = no
		custom_tooltip = {
			fail_text = z_mui_tips_ec_disabled_engaged
			hidden_trigger = { NOT = { has_country_flag = marauder_diplomacy_engaged } }
		}

	}
	effect = {
		custom_tooltip = z_mui_btn_ec_marauder
		hidden_effect = {
			random_relation = {
				limit = {
					is_country_type = dormant_marauders
					has_communications = from
					has_country_flag = marauder_2
				}
				country_event = { id = z_mui_ec.20 }
			}
		}
	}
}
z_mui_btn_ec_marauder_3 = {
	potential = {
		is_scope_type = country
		z_mui_trgr_cntr_ec_hide = no
		NOT = { has_country_flag = z_mui_flg_folded }
		check_variable = { which = z_mui_var_ec_marauder value = 3 }
		any_relation = {
			is_country_type = dormant_marauders
			has_country_flag = marauder_3
			has_communications = from
		}
	}
	allow = {
		is_ai = no
		custom_tooltip = {
			fail_text = z_mui_tips_ec_disabled_engaged
			hidden_trigger = { NOT = { has_country_flag = marauder_diplomacy_engaged } }
		}
	}
	effect = {
		custom_tooltip = z_mui_btn_ec_marauder
		hidden_effect = {
			random_relation = {
				limit = {
					is_country_type = dormant_marauders
					has_communications = from
					has_country_flag = marauder_3
				}
				country_event = { id = z_mui_ec.20 }
			}
		}
	}
}





z_mui_btn_ec_caravaneer_frame = {
	potential = {
		is_scope_type = country
		z_mui_trgr_cntr_ec_hide = no
		NOT = { has_country_flag = z_mui_flg_folded }
		any_relation = {
			OR = {
				is_country = event_target:caravaneer_home_country
				is_country = event_target:caravaneer_fleet1_country
				is_country = event_target:caravaneer_fleet2_country
				is_country = event_target:caravaneer_fleet3_country
			}
			has_communications = from
		}
	}
	allow = { is_ai = no }
	effect = {}
}

z_mui_btn_ec_caravaneer_switch = {
	potential = {
		is_scope_type = country
		z_mui_trgr_cntr_ec_hide = no
		NOT = { has_country_flag = z_mui_flg_folded }
		any_relation = {
			OR = {
				is_country = event_target:caravaneer_home_country
				is_country = event_target:caravaneer_fleet1_country
				is_country = event_target:caravaneer_fleet2_country
				is_country = event_target:caravaneer_fleet3_country
			}
			has_communications = from
		}
	}
	allow = { is_ai = no }
	effect = {
		custom_tooltip = z_mui_btn_ec_switch
		hidden_effect = {
			if = {
				limit = { check_variable = { which = z_mui_var_ec_caravaneer value = 0 } }
				set_variable = { which = z_mui_var_ec_caravaneer value = 1 }
			}
			while = {
				count = 4
				limit = { NOT = { has_country_flag = z_mui_flg_cntr_ec_switched } }
				if = {
					limit = { check_variable = { which = z_mui_var_ec_caravaneer value < 4 } }
					change_variable = { which = z_mui_var_ec_caravaneer value = 1 }
				}
				else_if = {
					limit = { check_variable = { which = z_mui_var_ec_caravaneer value = 4 } }
					set_variable = { which = z_mui_var_ec_caravaneer value = 1 }
				}
				if = {
					limit = {
						check_variable = { which = z_mui_var_ec_caravaneer value = 1 }
						any_relation = {
							is_country = event_target:caravaneer_home_country
							has_communications = from
						}
					}
					set_country_flag = z_mui_flg_cntr_ec_switched
				}
				else_if = {
					limit = {
						check_variable = { which = z_mui_var_ec_caravaneer value = 2 }
						any_relation = {
							is_country = event_target:caravaneer_fleet1_country
							has_communications = from
						}
					}
					set_country_flag = z_mui_flg_cntr_ec_switched
				}
				else_if = {
					limit = {
						check_variable = { which = z_mui_var_ec_caravaneer value = 3 }
						any_relation = {
							is_country = event_target:caravaneer_fleet2_country
							has_communications = from
						}
					}
					set_country_flag = z_mui_flg_cntr_ec_switched
				}
				else_if = {
					limit = {
						check_variable = { which = z_mui_var_ec_caravaneer value = 4 }
						any_relation = {
							is_country = event_target:caravaneer_fleet3_country
							has_communications = from
						}
					}
					set_country_flag = z_mui_flg_cntr_ec_switched
				}
			}
			remove_country_flag = z_mui_flg_cntr_ec_switched
		}
	}
}

z_mui_btn_ec_caravaneer_base = {
	potential = {
		is_scope_type = country
		z_mui_trgr_cntr_ec_hide = no
		NOT = { has_country_flag = z_mui_flg_folded }
		check_variable = { which = z_mui_var_ec_caravaneer value = 1 }
		any_relation = {
			is_country = event_target:caravaneer_home_country
			has_communications = from
		}
	}
	allow = {
		is_ai = no
		custom_tooltip = {
			fail_text = z_mui_tips_ec_disabled_engaged
			hidden_trigger = { caravaneer_base_active_diplo = no }
		}
		custom_tooltip = {
			fail_text = z_mui_tips_ec_disabled_attacked
			hidden_trigger = {
				NOT = {
					any_country = {
						is_country = event_target:caravaneer_home_country
						is_hostile = from
					}
				}
			}
		}
	}
	effect = {
		custom_tooltip = z_mui_btn_ec_caravaneer_base
		hidden_effect = {
			random_relation = {
				limit = {
					is_country = event_target:caravaneer_home_country
					has_communications = from
				}
				country_event = { id = z_mui_ec.40 }
			}
		}
	}
}

z_mui_btn_ec_caravaneer_fleet_1 = {
	potential = {
		is_scope_type = country
		z_mui_trgr_cntr_ec_hide = no
		NOT = { has_country_flag = z_mui_flg_folded }
		check_variable = { which = z_mui_var_ec_caravaneer value = 2 }
		any_relation = {
			is_country = event_target:caravaneer_fleet1_country
			has_communications = from
		}
	}
	allow = {
		is_ai = no
		custom_tooltip = {
			fail_text = z_mui_tips_ec_disabled_engaged
			hidden_trigger = { caravaneer_fleet1_active_diplo = no }
		}
		custom_tooltip = {
			fail_text = z_mui_tips_ec_disabled_attacked
			hidden_trigger = {
				NOT = {
					any_country = {
						is_country = event_target:caravaneer_fleet1_country
						is_hostile = from
					}
				}
			}
		}
	}
	effect = {
		custom_tooltip = z_mui_btn_ec_caravaneer_fleet_1
		hidden_effect = {
			random_relation = {
				limit = {
					is_country = event_target:caravaneer_fleet1_country
					has_communications = from
				}
				country_event = { id = z_mui_ec.41 }
			}
		}
	}
}
z_mui_btn_ec_caravaneer_fleet_2 = {
	potential = {
		is_scope_type = country
		z_mui_trgr_cntr_ec_hide = no
		NOT = { has_country_flag = z_mui_flg_folded }
		check_variable = { which = z_mui_var_ec_caravaneer value = 3 }
		any_relation = {
			is_country = event_target:caravaneer_fleet2_country
			has_communications = from
		}
	}
	allow = {
		is_ai = no
		custom_tooltip = {
			fail_text = z_mui_tips_ec_disabled_engaged
			hidden_trigger = { caravaneer_fleet2_active_diplo = no }
		}
		custom_tooltip = {
			fail_text = z_mui_tips_ec_disabled_attacked
			hidden_trigger = {
				NOT = {
					any_country = {
						is_country = event_target:caravaneer_fleet2_country
						is_hostile = from
					}
				}
			}
		}
	}
	effect = {
		custom_tooltip = z_mui_btn_ec_caravaneer_fleet_2
		hidden_effect = {
			random_relation = {
				limit = {
					is_country = event_target:caravaneer_fleet2_country
					has_communications = from
				}
				country_event = { id = z_mui_ec.42 }
			}
		}
	}
}

z_mui_btn_ec_caravaneer_fleet_3 = {
	potential = {
		is_scope_type = country
		z_mui_trgr_cntr_ec_hide = no
		NOT = { has_country_flag = z_mui_flg_folded }
		check_variable = { which = z_mui_var_ec_caravaneer value = 4 }
		any_relation = {
			is_country = event_target:caravaneer_fleet3_country
			has_communications = from
		}
	}
	allow = {
		is_ai = no
		custom_tooltip = {
			fail_text = z_mui_tips_ec_disabled_engaged
			hidden_trigger = { caravaneer_fleet3_active_diplo = no }
		}
		custom_tooltip = {
			fail_text = z_mui_tips_ec_disabled_attacked
			hidden_trigger = {
				NOT = {
					any_country = {
						is_country = event_target:caravaneer_fleet3_country
						is_hostile = from
					}
				}
			}
		}
	}
	effect = {
		custom_tooltip = z_mui_btn_ec_caravaneer_fleet_3
		hidden_effect = {
			random_relation = {
				limit = {
					is_country = event_target:caravaneer_fleet3_country
					has_communications = from
				}
				country_event = { id = z_mui_ec.43 }
			}
		}
	}
}


z_mui_btn_ec_trader_frame = {
	potential = {
		is_scope_type = country
		z_mui_trgr_cntr_ec_hide = no
		NOT = { has_country_flag = z_mui_flg_folded }
		any_relation = {
			is_country_type = enclave
			has_country_flag = trader_enclave_country
			has_communications = from
		}
	}
	allow = { is_ai = no }
	effect = {}
}

z_mui_btn_ec_trader_switch = {
	potential = {
		is_scope_type = country
		z_mui_trgr_cntr_ec_hide = no
		NOT = { has_country_flag = z_mui_flg_folded }
		any_relation = {
			is_country_type = enclave
			has_country_flag = trader_enclave_country
			has_communications = from
		}
	}
	allow = { is_ai = no }
	effect = {
		custom_tooltip = z_mui_btn_ec_switch
		hidden_effect = {
			if = {
				limit = { check_variable = { which = z_mui_var_ec_trader value = 0 } }
				set_variable = { which = z_mui_var_ec_trader value = 1 }
			}
			while = {
				count = 3
				limit = { NOT = { has_country_flag = z_mui_flg_cntr_ec_switched } }

				if = {
					limit = { check_variable = { which = z_mui_var_ec_trader value < 3 } }
					change_variable = { which = z_mui_var_ec_trader value = 1 }
				}
				else_if = {
					limit = { check_variable = { which = z_mui_var_ec_trader value = 3 } }
					set_variable = { which = z_mui_var_ec_trader value = 1 }
				}
				if = {
					limit = {
						check_variable = { which = z_mui_var_ec_trader value = 1 }
						any_relation = {
							is_country_type = enclave
							has_country_flag = trader_enclave_country_1
							has_communications = from
						}
					}
					set_country_flag = z_mui_flg_cntr_ec_switched
				}
				else_if = {
					limit = {
						check_variable = { which = z_mui_var_ec_trader value = 2 }
						any_relation = {
							is_country_type = enclave
							has_country_flag = trader_enclave_country_2
							has_communications = from
						}
					}
					set_country_flag = z_mui_flg_cntr_ec_switched
				}
				else_if = {
					limit = {
						check_variable = { which = z_mui_var_ec_trader value = 3 }
						any_relation = {
							is_country_type = enclave
							has_country_flag = trader_enclave_country_3
							has_communications = from
						}
					}
					set_country_flag = z_mui_flg_cntr_ec_switched
				}
			}
			remove_country_flag = z_mui_flg_cntr_ec_switched
		}
	}
}

z_mui_btn_ec_trader_1 = {
	potential = {
		is_scope_type = country
		z_mui_trgr_cntr_ec_hide = no
		NOT = { has_country_flag = z_mui_flg_folded }
		check_variable = { which = z_mui_var_ec_trader value = 1 }
		any_relation = {
			is_country_type = enclave
			has_country_flag = trader_enclave_country_1
			has_communications = from
		}
	}
	allow = {
		is_ai = no
		custom_tooltip = {
			fail_text = z_mui_tips_ec_disabled_engaged
			hidden_trigger = { NOT = { has_country_flag = trader_enclave_diplomacy_engaged } }
		}
		custom_tooltip = {
			fail_text = z_mui_tips_ec_disabled_attacked
			hidden_trigger = { NOT = { has_country_flag = attacked_xuracorp } }
		}
	}
	effect = {
		custom_tooltip = z_mui_btn_ec_trader_1
		hidden_effect = {
			random_relation = {
				limit = {
					is_country_type = enclave
					has_country_flag = trader_enclave_country_1
					has_communications = from
				}
				country_event = { id = z_mui_ec.31 }
			}
		}
	}
}

z_mui_btn_ec_trader_2 = {
	potential = {
		is_scope_type = country
		z_mui_trgr_cntr_ec_hide = no
		NOT = { has_country_flag = z_mui_flg_folded }
		check_variable = { which = z_mui_var_ec_trader value = 2 }
		any_relation = {
			is_country_type = enclave
			has_country_flag = trader_enclave_country_2
			has_communications = from
		}
	}
	allow = {
		is_ai = no
		custom_tooltip = {
			fail_text = z_mui_tips_ec_disabled_engaged
			hidden_trigger = { NOT = { has_country_flag = trader_enclave_diplomacy_engaged } }
		}
		custom_tooltip = {
			fail_text = z_mui_tips_ec_disabled_attacked
			hidden_trigger = { NOT = { has_country_flag = attacked_riggans } }
		}
	}
	effect = {
		custom_tooltip = z_mui_btn_ec_trader_2
		hidden_effect = {
			random_relation = {
				limit = {
					is_country_type = enclave
					has_country_flag = trader_enclave_country_2
					has_communications = from
				}
				country_event = { id = z_mui_ec.32 }
			}
		}
	}
}

z_mui_btn_ec_trader_3 = {
	potential = {
		is_scope_type = country
		z_mui_trgr_cntr_ec_hide = no
		NOT = { has_country_flag = z_mui_flg_folded }
		check_variable = { which = z_mui_var_ec_trader value = 3 }
		any_relation = {
			is_country_type = enclave
			has_country_flag = trader_enclave_country_3
			has_communications = from
		}
	}
	allow = {
		is_ai = no
		custom_tooltip = {
			fail_text = z_mui_tips_ec_disabled_engaged
			hidden_trigger = { NOT = { has_country_flag = trader_enclave_diplomacy_engaged } }
		}
		custom_tooltip = {
			fail_text = z_mui_tips_ec_disabled_attacked
			hidden_trigger = { NOT = { has_country_flag = attacked_muutagans } }
		}
	}
	effect = {
		custom_tooltip = z_mui_btn_ec_trader_3
		hidden_effect = {
			random_relation = {
				limit = {
					is_country_type = enclave
					has_country_flag = trader_enclave_country_3
					has_communications = from
				}
				country_event = { id = z_mui_ec.33 }
			}
		}
	}
}


z_mui_btn_ec_curator_frame = {
	potential = {
		is_scope_type = country
		z_mui_trgr_cntr_ec_hide = no
		NOT = { has_country_flag = z_mui_flg_folded }
		any_relation = {
			is_country_type = enclave
			has_country_flag = curator_enclave_country
			has_communications = from
		}
	}
	allow = { is_ai = no }
	effect = {}
}

z_mui_btn_ec_curator = {
	potential = {
		is_scope_type = country
		z_mui_trgr_cntr_ec_hide = no
		NOT = { has_country_flag = z_mui_flg_folded }
		any_relation = {
			is_country_type = enclave
			has_country_flag = curator_enclave_country
			has_communications = from
		}
	}
	allow = {
		is_ai = no
		custom_tooltip = {
			fail_text = z_mui_tips_ec_disabled_engaged
			hidden_trigger = { NOT = { has_country_flag = curator_enclave_diplomacy_engaged } }
		}
		custom_tooltip = {
			fail_text = z_mui_tips_ec_disabled_attacked
			hidden_trigger = { NOT = { has_country_flag = attacked_curators } }
		}
	}
	effect = {
		custom_tooltip = z_mui_btn_ec_curator
		hidden_effect = {
			random_relation = {
				limit = {
					is_country_type = enclave
					has_country_flag = curator_enclave_country
					has_communications = from
				}
				country_event = { id = z_mui_ec.34 }
			}
		}
	}
}


z_mui_btn_ec_artist_frame = {
	potential = {
		is_scope_type = country
		z_mui_trgr_cntr_ec_hide = no
		NOT = { has_country_flag = z_mui_flg_folded }
		any_relation = {
			is_country_type = enclave
			has_country_flag = artist_enclave_country
			has_communications = from
		}
	}
	allow = { is_ai = no }
	effect = {}
}

z_mui_btn_ec_artist = {
	potential = {
		is_scope_type = country
		z_mui_trgr_cntr_ec_hide = no
		NOT = { has_country_flag = z_mui_flg_folded }
		any_relation = {
			is_country_type = enclave
			has_country_flag = artist_enclave_country
			has_communications = from
		}
	}
	allow = {
		is_ai = no
		custom_tooltip = {
			fail_text = z_mui_tips_ec_disabled_engaged
			hidden_trigger = {
				OR = {
					OR = {
						has_country_flag = artist_enclave_diplomacy_continued
						NOT = { has_country_flag = artist_enclave_diplomacy_engaged }
					}
					has_country_flag = recently_purchased_art
					has_country_flag = recently_purchased_ministry
					has_country_flag = recently_purchased_patron
					has_country_flag = recently_purchased_festival
				}
			}
		}
		custom_tooltip = {
			fail_text = z_mui_tips_ec_disabled_artist_ignore
			hidden_trigger = { NOT = { has_country_flag = enclave_artist_ignores } }
		}
		custom_tooltip = {
			fail_text = z_mui_tips_ec_disabled_attacked
			hidden_trigger = {
				NOT = {
					any_country = {
						is_country_type = enclave
						has_country_flag = artist_enclave_country
						is_hostile = from
					}
				}
			}
		}
	}
	effect = {
		custom_tooltip = z_mui_btn_ec_artist
		hidden_effect = {
			random_country = {
				limit = {
					is_country_type = enclave
					has_country_flag = artist_enclave_country
				}
				if = {
					limit = { NOT = { exists = event_target:artist_enclave_country } }
					save_global_event_target_as = artist_enclave_country
				}
			}
			random_relation = {
				limit = {
					is_country_type = enclave
					has_country_flag = artist_enclave_country
					has_communications = from
				}
				country_event = { id = z_mui_ec.35 }
			}
		}
	}
}


z_mui_btn_ec_shroud_frame = {
	potential = {
		is_scope_type = country
		z_mui_trgr_cntr_ec_hide = no
		NOT = { has_country_flag = z_mui_flg_folded }
		any_relation = {
			OR = {
				is_country_type = shroud
				is_country_type = machinedlcmod_shroud
				is_country_type = hive_shroud
				is_country_type = hiveshroud	
			}
			has_communications = from
		}
	}
	allow = { is_ai = no }
	effect = {}
}

z_mui_btn_ec_shroud = {
	potential = {
		is_scope_type = country
		z_mui_trgr_cntr_ec_hide = no
		NOT = { has_country_flag = z_mui_flg_folded }
		any_relation = {
			OR = {
				is_country_type = shroud
				is_country_type = machinedlcmod_shroud
				is_country_type = hive_shroud		
				is_country_type = hiveshroud	
			}
			has_communications = from
		}
	}
	allow = {
		custom_tooltip = {
			fail_text = z_mui_tips_ec_disabled_engaged
			hidden_trigger = { NOT = { has_country_flag = shroud_diplomacy_engaged } }
		}
		custom_tooltip = {
			fail_text = z_mui_tips_ec_disabled_shroud
			hidden_trigger = {
				NOR = {
					has_modifier = shroud_cooldown
					has_modifier = shroud_precog_cooldown
					has_modifier = shroud_cooldown_2
					has_modifier = shroud_precog_cooldown_2
				}
			}
		}
	}
	effect = {
		custom_tooltip = z_mui_btn_ec_shroud
		hidden_effect = {
            if = {
                limit = {
                    is_hive_empire = no
                    is_machine_empire = no
                }
                random_relation = {
                    limit = {
                        is_country_type = shroud
                        has_communications = from
                    }
                    country_event = { id = z_mui_ec.50 }
                }
            }
            else_if = {
                limit = { is_machine_empire = yes }
                random_relation = {
                    limit = {
                        is_country_type = machinedlcmod_shroud
                        has_communications = from
                    }
                    country_event = { id = z_mui_ec.51 }
                }
            }
            else_if = {
                limit = { is_hive_empire = yes }
                random_relation = {
                    limit = {
                        is_country_type = hive_shroud
                        has_communications = from
                    }
                    country_event = { id = z_mui_ec.52 }
                }
            }
            else_if = {
                limit = {
                    is_hive_empire = yes
                    any_relation = { is_country_type = hiveshroud }
                }
                random_relation = {
                    limit = {
                        is_country_type = hiveshroud
                        has_communications = from
                    }
                    country_event = { id = z_mui_ec.53 }
                }
            }
            else = {
                random_relation = {
                    limit = {
                        is_country_type = shroud
                        has_communications = from
                    }
                    country_event = { id = z_mui_ec.50 }
                }
            }
		}
	}
}


sting_communication_frame = {
	potential = {
		is_scope_type = country
		z_mui_trgr_cntr_ec_hide = no
		NOT = { has_country_flag = z_mui_flg_folded }
		has_global_flag = ICE_MOON_ELF_MOD
	}
	allow = { always = no }
}
sting_communication = {
	potential = {
		is_scope_type = country
		z_mui_trgr_cntr_ec_hide = no
		NOT = { has_country_flag = z_mui_flg_folded }
		has_global_flag = ICE_MOON_ELF_MOD
	}
	allow = { always = no }
}

z_mod_btn_kuat_frame = {
	potential = {
		is_scope_type = country
		z_mui_trgr_cntr_ec_hide = no
		NOT = { has_country_flag = z_mui_flg_folded }
		has_global_flag = install_kuat_mod
	}
	allow = { is_ai = no }
}
z_mod_btn_kuat = {
	potential = {
		is_scope_type = country
		z_mui_trgr_cntr_ec_hide = no
		NOT = { has_country_flag = z_mui_flg_folded }
		has_global_flag = install_kuat_mod
	}
	allow = { is_ai = no }
	effect = {
		custom_tooltip = kuat_missions.title
		initial_kuat_shipyard = yes
	}
}

